<!-- START calendar_edit_note.html -->
<script language="JavaScript" type="text/javascript">
<!--
function newNote(){
	if(document.editCalendarNote.inputCat.value == ""){
		alert("{TXT_CALENDAR_ERROR_CATEGORY}");
		document.editCalendarNote.inputCat.focus();
		return false;
	}
	if(document.editCalendarNote.inputName.value == ""){
		alert("{TXT_CALENDAR_ERROR_NAME}");
		document.editCalendarNote.inputName.focus();
		return false;
	}
	if(document.editCalendarNote.inputPlace.value == ""){
		alert("{TXT_CALENDAR_ERROR_PLACE}");
		document.editCalendarNote.inputPlace.focus();
		return false;
	}
	if(document.editCalendarNote.inputEndYear.value < document.editCalendarNote.inputYear.value){
		alert("{TXT_CALENDAR_ERROR_DATE}");
		document.editCalendarNote.inputEndYear.focus();
		return false;
	}
	if(document.editCalendarNote.inputEndYear.value == document.editCalendarNote.inputYear.value && document.editCalendarNote.inputEndMonth.value < document.editCalendarNote.inputMonth.value){
		alert("{TXT_CALENDAR_ERROR_DATE}");
		document.editCalendarNote.inputEndMonth.focus();
		return false;
	}
	if(document.editCalendarNote.inputEndYear.value == document.editCalendarNote.inputYear.value && document.editCalendarNote.inputEndMonth.value == document.editCalendarNote.inputMonth.value && document.editCalendarNote.inputEndDay.value < document.editCalendarNote.inputDay.value)
	{
		alert("{TXT_CALENDAR_ERROR_DATE}");
		document.editCalendarNote.inputEndDay.focus();
		return false;
	}
	if(document.editCalendarNote.inputEndYear.value == document.editCalendarNote.inputYear.value && document.editCalendarNote.inputEndMonth.value == document.editCalendarNote.inputMonth.value && document.editCalendarNote.inputEndDay.value == document.editCalendarNote.inputDay.value && document.editCalendarNote.inputEndTime.value <= document.editCalendarNote.inputTime.value)
	{
		alert("{TXT_CALENDAR_ERROR_DATE}");
		document.editCalendarNote.inputEndTime.focus();
		return false;
	}
	if(document.editCalendarNote.inputComment.value == "")
	{
		alert("{TXT_CALENDAR_ERROR_COMMENT}");
		document.editCalendarNote.inputComment.focus();
		return false;
	}
}

function whole_day()
{
	document.getElementById('editCalendarNote').inputHour.value = "00";
	document.getElementById('editCalendarNote').inputMinutes.value = "00";
	document.getElementById('editCalendarNote').inputEndHour.value = "23";
	document.getElementById('editCalendarNote').inputEndMinutes.value = "59";
}
// -->
</script>
{JAVA_SCRIPT}
<script src="../lib/datepickercontrol/datepickercontrol.js" type="text/javascript"></script>

<script language="JavaScript" type="text/javascript">
<!--
  DatePickerControl.onSelect = function(inputid)
  {
    var startdate = document.getElementById("editCalendarNote").inputStartDate.value.replace(/-/g, "");
    var enddate = document.getElementById("editCalendarNote").inputEndDate.value.replace(/-/g, "");

    if (startdate > enddate) {
    	var date = document.getElementById("editCalendarNote").inputStartDate.value;
    	document.getElementById("editCalendarNote").inputEndDate.value = date;
    }
  }
  // -->
  </script>

<form action="index.php?cmd=calendar&amp;act=saveEdited" method="post" name="editCalendarNote" id="editCalendarNote" onsubmit="return newNote()">
  <table cellspacing="0" cellpadding="3" width="100%" border="0" class="adminlist">
    <tr>
      <th colspan="2" nowrap="nowrap">
        <div align="left">{TXT_CALENDAR_EDIT_EVENT}</div>
      </th>
    </tr>
	<tr class="row2">
      <td valign="middle">{TXT_CALENDAR_CAT}:</td>
      <td valign="middle">
	  <select name="inputCategory" style="width: 25%; ">
        <option value="0">- {TXT_CALENDAR_CAT}</option>
        <!-- BEGIN calendar_cat -->
        <option value="{CALENDAR_CAT_ID}"{CALENDAR_CAT_SELECTED}>[{CALENDAR_CAT_LANG}]&nbsp;&nbsp;{CALENDAR_CAT_NAME}</option>
        <!-- END calendar_cat -->
      </select></td>
    </tr>
    <tr class="row1">
      <td valign="middle" width="80"> {TXT_CALENDAR_NAME}: </td>
      <td valign="middle">
        <input type="text" name='inputName' style="width: 25%; padding: 2px;"  value='{CALENDAR_NAME}'/>

        <input type="checkbox" name="inputActive" style="margin-left: 15px;" {CALENDAR_ACTIVE_CHECKED}/> {TXT_CALENDAR_ACTIVE}
		</td>
    </tr>
    <tr class="row2">
      <td valign="middle" width="80"> {TXT_CALENDAR_PLACE}: </td>
      <td valign="middle">
        <input type="text" name='inputPlace' style="width: 25%; padding: 2px;" value='{CALENDAR_PLACE}' />
      </td>
    </tr>
	<tr class="row1">
    	<td> {TXT_CALENDAR_INFO}: </td>
    	<td>
    		<input type="text" value="{CALENDAR_INFO}" name='inputInfo' style="width: 25%; padding:2px;" />
    	</td>
	</tr>
    <tr class="row2">
      <td valign="middle" width="80"> {TXT_CALENDAR_START}: </td>
      <td valign="middle">
		<input type="text" name="inputStartDate" id="DPC_edit1_YYYY-MM-DD" value="{CALENDAR_STARTDATE}" style="width: 8em; padding: 2px;" />
		<select name="inputHour" style="margin-left: 10px">
			<!-- BEGIN hour -->
			<option value="{CALENDAR_HOUR}"{CALENDAR_HOUR_SELECT}>{CALENDAR_HOUR}</option>
			<!-- END hour -->
		</select>
		:
		<select name="inputMinutes">
			<!-- BEGIN minutes -->
			<option value="{CALENDAR_MINUTES}"{CALENDAR_MINUTES_SELECT}>{CALENDAR_MINUTES}</option>
			<!-- END minutes -->
		</select>

		 <a style="margin-left: 15px;" href="#" onclick="whole_day()">{TXT_CALENDAR_WHOLE_DAY}</a>
	</td>
    </tr>
    <tr class="row1">
      <td valign="middle" width="80"> {TXT_CALENDAR_END}: </td>
      <td valign="middle">
	  	<input type="text" name="inputEndDate" id="DPC_edit2_YYYY-MM-DD" value="{CALENDAR_ENDDATE}" style="width:8em; padding: 2px;" />
		<select name="inputEndHour" style="margin-left: 10px">
			<!-- BEGIN endhour -->
			<option value="{CALENDAR_END_HOUR}"{CALENDAR_END_HOUR_SELECT}>{CALENDAR_END_HOUR}</option>
			<!-- END endhour -->
		</select>
		:
		<select name="inputEndMinutes">
			<!-- BEGIN endminutes -->
			<option value="{CALENDAR_END_MINUTES}"{CALENDAR_END_MINUTES_SELECT}>{CALENDAR_END_MINUTES}</option>
			<!-- END endminutes -->
		</select>
      </td>
    </tr>
	</table>
	<br />
	<table cellspacing="0" cellpadding="3" width="100%" border="0" class="adminlist">
    <tr>
	 <th colspan="2" nowrap="nowrap">
        <div align="left">{TXT_CALENDAR_COMMENT}</div>
      </th>
     </tr>
	 <tr>
      <td valign="top" colspan="2">
        {CALENDAR_DESCRIPTION}</td>
    </tr>
  </table>

  <br />
  <input type="reset" value="{TXT_CALENDAR_RESET}" name="reset" />
  <input type="submit" value="{TXT_CALENDAR_SUBMIT}" name="submit" />
  <input type="hidden" name="inputId" value="{CALENDAR_ID}" />
</form>
<!-- END calendar_edit_note.html -->
