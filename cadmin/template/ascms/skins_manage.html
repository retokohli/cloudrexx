<!-- start skins_manage.html -->

<style type="text/css">
<!--
	.radiodescription{
		position: relative;
		bottom: 3px;
		left: 2px;
	}

	.noborder{
		border: 0px;
		background-color: #F4F7FF;
	}

	.hidden {
		display: none;
	}
// -->
</style>
<script type="text/javascript">
// <![CDATA[
var	highlightcolor = "#F1F1F1";
var	row1color = "#F4F7FF";
var	row2color = "#FFFFFF";
var	rowWarncolor = "#FFE7E7";
var scollHeight = 0;
var scroller;

var init = function(){
	themeId = 	document.getElementById("themeid");
	form 	=	document.getElementById("manageform");
	dweb 	=	document.getElementById("web");
	dlocal 	= 	document.getElementById("local");
	ilocal 	= 	document.getElementById("localarchive");
	iremote = 	document.getElementById("remotearchive");
	document.getElementById("radiolocal").className = 'noborder';
	document.getElementById("radioremote").className = 'noborder';
}

var openPreview = function(id){
	window.open("index.php?cmd=skins&{CSRF_PARAM}&act=manage&preview=" + id);
	return false;
}

var confirmDelete = function(theme){
    msg = '{TXT_THEME_CONFIRM_DELETE}';
	return confirm(msg.replace('%s', theme));
}

var importArchive = function(){
	if(dlocal.style.display == "block"){
		if(ilocal.value != ""){
			form.action = "index.php?cmd=skins&act=manage&import=local";
		}else{
			alert("{TXT_THEME_NO_FILE_SPECIFIED}!");
			return false;
		}
	}else{
		if(iremote.value != 'http://' && iremote.value != '' ){
			form.action = "index.php?cmd=skins&act=manage&import=remote";
		}else{
			alert("{TXT_THEME_NO_URL_SPECIFIED}!");
			return false;
		}
	}
	return true;
}

var importSelect = function(div){
	if(div == "local"){
		dlocal.style.display = "block";
		dweb.style.display = "none";
	}else if(div == "web"){
		dlocal.style.display = "none";
		dweb.style.display = "block";
	}
}

var skinsHighlight = function(obj, direction){
	if(obj.className=='rowWarn') return; //ignore active row
	obj.style.backgroundColor = highlightcolor;
	if(direction == 'upper'){
		getPrevRow(obj).style.backgroundColor = highlightcolor;
	}else{
		getNextRow(obj).style.backgroundColor = highlightcolor;
	}
}

var skinsUnhighlight = function(obj, direction){ //ignore active row
	if(obj.className=='rowWarn') return;
	if(direction == 'upper'){
		if(getPrevRow(obj).className == 'row1'){
			obj.style.backgroundColor = row1color;
			getPrevRow(obj).style.backgroundColor = row1color;
		}else{
			obj.style.backgroundColor = row2color;
			getPrevRow(obj).style.backgroundColor = row2color;
		}
	}else{
		if(getNextRow(obj).id == 'row1'){
			obj.style.backgroundColor = row1color;
			getNextRow(obj).style.backgroundColor = row1color;
		}else{
			obj.style.backgroundColor = row2color;
			getNextRow(obj).style.backgroundColor =	row2color;
		}
	}
}

var showInfo = function(obj) {
	return false;
	if(getNextRow(obj).className == 'hidden'){
		getNextRow(obj).className = obj.className;
	}else{
		getNextRow(obj).className = 'hidden';
	}
}

var hideInfo = function(obj) {
	return false;
	obj.id = obj.className
	obj.className = 'hidden';
}

var getNextRow = function(obj){
	obj = obj.nextSibling;
	while(obj.nodeType != '1'){
		obj = obj.nextSibling;
	}
	return obj;
}

var getPrevRow = function(obj){
	obj = obj.previousSibling;
	while(obj.nodeType != '1'){
		obj = obj.previousSibling;
	}
	return obj;
}

var scrollPage = function(y){
	height = getWindowHeight();
	if(height - y < scollHeight){
		clearTimer(scroller);
		window.scrollBy(0, scollHeight - (height - y));
		scroller = setTimeout('scrollPage(y)', 1);
	}else if(y < scollHeight){
		clearTimer(scroller);
		window.scrollBy(0, -scollHeight + y);
		scroller = setTimeout('scrollPage(y)', 1);
	}else{
		clearTimer(scroller);
	}
}

var getWindowHeight = function(){
	if (self.innerHeight) {
		height = self.innerHeight;
	} else if (document.documentElement && document.documentElement.clientHeight){
		height = document.documentElement.clientHeight;
	} else if (document.body && document.body.clientHeight) {
		height = document.body.clientHeight;
	}else{
		return 0;
	}
	return height;
}

var clearTimer = function(timer){
	if(typeof(timer) != 'undefined'){
		clearTimeout(timer);
	}
}

//attach body onload event (to ensure the page has completed loading when calling init())
//mozilla
document.body.setAttribute('onload', 'init();');

//IE
document.body.onload = function (){
	init();
}

document.body.onmousemove = function(event){
	if(typeof(window.event) != 'undefined'){
		y = window.event.clientY;
	}else if(event){
		y = event.clientY;
	}else{
		return false;
	}
	scrollPage(y);
}
// ]]>
</script>
<div>

<form name="themesForm" id="manageform" action="index.php?cmd=skins&amp;act=manage" method="post" enctype="multipart/form-data">
<table summary="" style="width:100%" border="0" cellspacing="0" cellpadding="3"  class="adminlist">
	<tr style="white-space: nowrap;">
		<th>
			{TXT_THEME_IMPORT}
		</th>
	</tr>
	<tr class="row1">
		<td width="250">
			<div style="width: 300px;vertical-align: top;">
				<div>
					<input id="radiolocal" class="hidden" onclick="importSelect(this.value);" type="radio" name="src" value="local" checked="checked" /> <span class="radiodescription"> {TXT_THEME_LOCAL_FILE} </span>
					<input id="radioremote" class="hidden" onclick="importSelect(this.value);" type="radio" name="src" value="web" /><span class="radiodescription">{TXT_THEME_SPECIFY_URL}</span> <br />
				</div>

				<div id="local" style="display: block;">
					<input type="file" id="localarchive" name="importlocal" accept="application/zip" value="{TXT_SELECT_FILE}" />
				</div>
				<div id="web" style="display: none;">
					<input type="text" id="remotearchive" name="importremote" size="30" value="http://" />
				</div>
			</div>
		</td>
	</tr>
</table>
<input type="submit" name="import" onclick="return importArchive();" value="{TXT_THEME_IMPORT}" />
<br />
<br />
<div>
	<div class="infobox_head">
		{TXT_THEME_IMPORT_INFO}
	</div>
	<div class="infobox_body">
		{TXT_THEME_IMPORT_INFO_BODY}
	</div>
</div>

<br />
<table summary="" style="width:100%" border="0" cellspacing="0" cellpadding="3" class="adminlist">
	<tr>
		<th colspan="4">
			<strong>{TXT_THEME_THEMES}</strong>
		</th>
	</tr>
	<tr class="row3">
		<td colspan="3"><div style="width: 14%;">
			<strong>{TXT_NAME}</strong>
		</div></td>
		<td width="5%">
			<strong>{TXT_FUNCTIONS}</strong>
		</td>
	</tr>
	<!-- BEGIN themeRow -->
	<tr class="{ROW_CLASS}" onmouseover="skinsHighlight(this,'lower');" onmouseout="skinsUnhighlight(this,'lower');" onclick="showInfo(this);">
		<td style="width: 200px">
		<div style="vertical-align: top; font-size:1.1em;">
			{THEME_NAME_EXTRA}
		</div><br />
			<div onclick="showInfo(this.parentNode.parentNode); return openPreview({THEME_ID});" style="background-repeat: no-repeat; background-image:url({THEME_PREVIEW});background-position: center; border: 1px solid black; height: 160px; width: 160px;">
			</div>
			<br />
		</td>
		<td style="vertical-align: center; width: 150px;">
			<input type="button" value="{TXT_SKINS_PREVIEW}" onclick="return openPreview({THEME_ID})" />
		</td>
		<td>
			<div>
				{THEME_XML_AUTHOR}
			</div>
			<div>
				{THEME_XML_VERSION}
			</div>
			<div>
				{THEME_XML_DESCRIPTION}
			</div>
		</td>
		<td><div style="text-align: right; vertical-align: top; white-space:nowrap;">
			<a href="?cmd=skins&amp;act=manage&amp;export={THEME_NAME}" onclick="showInfo(this.parentNode.parentNode);" title="{TXT_THEME_EXPORT}"> <img border="0" src="images/icons/zip.gif" alt="" /> </a>
			{THEME_ACTIVATE_LINK}
			{THEME_DELETE_LINK}
		</div>
		</td>
	</tr>
	<tr class="hidden" onmouseover="skinsHighlight(this,'upper');" onmouseout="skinsUnhighlight(this,'upper');" onclick="hideInfo(this);">
		<td colspan="4">
			{THEME_XML_AUTHOR} &nbsp;&nbsp;&nbsp; {THEME_XML_VERSION} &nbsp;&nbsp;&nbsp; {THEME_XML_DESCRIPTION}
		</td>
	</tr>
	<!-- END themeRow -->
</table>
<input id="themeid" type="hidden" name="themeid" />
</form>
</div>
<!-- end skins_manage.html -->
